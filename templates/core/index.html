{% extends 'partials/base.html' %}
{% load static %}
{% load socialaccount %}

{% block content %}

<main class="main">
    <div class="container mb-30">

        <!-- ================= Hero Slider ================= -->
        <section class="home-slider position-relative mb-30">
            <div class="home-slide-cover mt-30">
                <div class="hero-slider-1 style-4 dot-style-1 dot-style-1-position-1">
                    <!-- Slider 1 -->
                    <div class="single-hero-slider single-animation-wrap" style="background-image: url('{% static "assets/imgs/banner/banner-145.png" %}');">
                        <div class="slider-content">
                            <h1 class="display-2 mb-40">Lwam Fashion Design</h1>
                        </div>
                    </div>
                    <!-- Add more sliders if needed -->
                </div>
                <div class="slider-arrow hero-slider-1-arrow"></div>
            </div>
        </section>
        <!--End hero-->

        <!-- ================= Google Login Section ================= -->
        <section class="mb-30 text-center">
            {% if not request.user.is_authenticated %}
                <!-- Google login button -->
                <a href="{% provider_login_url 'google' %}" class="btn btn-danger mb-3">Login with Google</a>
                <p class="text-muted">Login using your Google account</p>
            {% else %}
                <p>Welcome, {{ request.user.get_full_name }} ({{ request.user.email }})</p>
                <a href="{% url 'account_logout' %}" class="btn btn-secondary">Logout</a>
            {% endif %}
        </section>

        <!-- ================= Popular Products Section ================= -->
        <section class="product-tabs section-padding position-relative">
            <div class="section-title style-2">
                <h3>Popular Products</h3>
            </div>

            <div class="tab-content" id="myTabContent">
                <div class="tab-pane fade show active" id="tab-one" role="tabpanel" aria-labelledby="tab-one">
                    <div class="row product-grid-4">

                        {% for p in products %}
                        <div class="col-lg-1-5 col-md-4 col-12 col-sm-6">
                            <div class="product-cart-wrap mb-30">

                                <div class="product-img-action-wrap">
                                    <div class="product-img product-img-zoom">
                                        <a href="{% url 'core:product-detail' p.pid %}">
                                            <img class="default-img" src="{{ p.image.url }}" alt="{{ p.title }}" style="height:280px;width:280px;object-fit:cover;">
                                            <img class="hover-img" src="{{ p.image.url }}" alt="{{ p.title }}" style="height:280px;width:280px;object-fit:cover;">
                                        </a>
                                    </div>
                                    <div class="product-action-1">
                                        <a aria-label="Add To Wishlist" class="action-btn add-to-wishlist" data-product-item="{{ p.id }}"><i class="fi-rs-heart"></i></a>
                                        <a href="{% url 'core:product-detail' p.pid %}" class="action-btn"><i class="fi-rs-eye"></i></a>
                                    </div>
                                </div>

                                <div class="product-content-wrap">
                                    <div class="product-category">
                                        <a href="#">{{ p.category.title }}</a>
                                    </div>
                                    <h2><a href="{% url 'core:product-detail' p.pid %}">{{ p.title }}</a></h2>
                                    <div class="product-price">
                                        $<span class="current-product-price-{{ p.id }}">{{ p.price }}</span>
                                        <span class="old-price">${{ p.old_price }}</span>
                                    </div>
                                </div>

                            </div>
                        </div>
                        {% endfor %}

                    </div>
                </div>
            </div>
        </section>
        <!--End popular products-->

    </div>
</main>

{% endblock content %}
